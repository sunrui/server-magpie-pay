# spider

新的爬虫引擎主要解决哪些问题：
1. 开发语言采用 JAVA 编写。【原实现是 GO。】
2. 几近完全还原了 dealy 站完整的模型结构。【原站是三级。】
3. 为原站模型添加了第一、二、三目录层级的各大查询功能【便于调试，含 testcase】。
4. 增加了原 delay 站到现在的数据库的模型对应的分离。【桥接，保证代码可读性】
5. 增强了原爬虫直接写死了沙特是 3.75 还没有使用 delay 的 rate API 实时去抓取价格的问题。【卖价不准】
6. 增强了原爬 flashSale 必须每天将 delay 站的数据 score 加 1 的问题。【git 每天需要手动改值抓取】
7. 增强了原爬虫，完全复刻了 dealy 的商品 SKU 逻辑，将每一个【商品价格】【运营价格】完整复刻。【等于直接重构实现了他们站的 API 代码。】

开发细节不一列举，更多功能实现参见仓库。

最终实现的目的：
1. 完整复刻实现升级 delay 站为自己的站，并作为管理后台的选品平台，可以一键导入平台入库。
2. 可以针对性的抓出每日 dealy 站上架的内容，新的 flashSale 等。

已知问题：
0. 在目前的 prod 两张表没有和 dealy 有 uuid 对应关系前，很难去找到哪些不同，另外很有可能会覆盖了运营已经下架过的商品的工作等。
1. 原 dealy 站的 flashSale 是数据 tableTime 每日时间排好序的，插入到生产的 p01，需要去动态的处理新的数据重复问题，排序问题。
flashSale 目前在中东没有上，把每天爬来的数据插入到 p01 popular，MarketingType = 8 是闪购，目前中东（2020.12.22）不用。
2. 插入到生产库的数据的 ID，需要和原来的站有匹配规测，目前生产服只有两张表没有绑定关系，使用 dealy 站的 id 会被发现，需要一个
好的区分原则。
